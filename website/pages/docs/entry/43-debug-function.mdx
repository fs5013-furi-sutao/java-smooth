---
title: 43. VSCode で Java のデバッグをする
section: 02.入門編
slug: /entry/43-debug-function
order: 43
---

# 43. VSCode で Java のデバッグをする

<p class="goal">
  デバッグプリントではなく、デバッグ機能で処理を読めるようになること。 どんな
  IDE にもデバッグ機能があることを知る
</p>

## デバッグ機能とは

デバッグ機能とは、プログラムの欠陥(バグ)を発見・修正するデバッグ(Debug)作業を支援する機能です。デバッガ（Debugger）とも呼ばれます。

デバッガは、実行中のアプリに介入（アタッチ）し、コードを検査できるようにします。

たとえば、実行中のある瞬間におけるコード中の変数の値を表示することができ、どこで誤りが生じているのか探し出すのを手助けしてくれます。

## ブレークポイントを張る

ブレークポイント（Breakpoint）はプログラマが指定する、コード中の任意の箇所のことです。

デバッグ実行時にブレークポイントに差し掛かったら強制的に実行を一時停止して、その時点での変数などの状態を確認することができます。

VSCode の場合は、コードの行頭の左側余白をクリックすると赤丸がつき、これがブレークポイントになります。

ブレークポイントを張らずにデバッグを実行すると、止まる箇所が指定されていないことになるので、処理の最後まで止まらずプログラムの実行が終了し、実質 `Run` を実行した場合と同じ状態になります。

## デバッグの開始

### CodeLens から開始する

拡張機能 Language Support for Java に main メソッドが認識されると、main メソッドの上部に `Run | Debug` というリンクボタンが表示されます。

この `Debug` を押せば、デバッグを開始することができます。

### ショートカットキー F5 で開始する

ショートカットキーからもデバッグを開始することができます。

デバッグ開始のショートカットキーは F5 です。デバッグなしでプログラムを実行するショートカットキーは、Ctr + F5 です。

## ステップ実行

ステップ実行（step by step execution）は、ブレークポイントなどで一時停止後、プログラムを 1 ステップ（一行）ごとに実行する機能で、各ステップで実際にどのような処理が行われたかを確認しながら実行を進めることができます。

ステップ実行には、以下の 3 種類があります。

- ステップオーバー（step over）
- ステップイン（step in）
- ステップアウト（step out）

### ステップオーバー（step over）

メソッド呼び出しがあっても、そのメソッド内にステップを進めず（入り込まず）に、ステップ実行する方法です。

VSCode では F10 で、ステップオーバーを実行することができます。

### ステップイン（step in）

メソッド呼び出しがあった場合に、そのメソッド内にステップを進めて（入り込んで）、ステップ実行する方法です。

VSCode では F11 で、ステップインを実行することができます。

### ステップアウト（step out）

メソッド内に入り込んだ場合に、呼び出し元のメソッドにステップを戻す方法です。

VSCode では Shift + F11 で、ステップアウトを実行することができます。

### デバッグの停止

VSCode では Shift + F5 で、デバッグを停止することができます。

## デバッグ実行のサンプル

次の画像は、VSCode でブレークポイントを張り、ステップ実行をした動作サンプルです。

![](./images/debug_java_in_vscode.gif)

以下のサンプルコードをデバッグ実行しています。

https://github.com/fs5013-furi-sutao/java-bootcamp-answers/blob/main/02.entry/43.debug-function/src/DebuggingTest.java

## ミニ課題: 再帰処理をデバッグしてみる（時間: 20 分）

カリキュラム [再帰メソッド](./41-recursive-method) で学習したスタックの再帰処理について、ソースコードをデバッグ実行して、変数の値の変化、処理の流れを追ってみましょう
