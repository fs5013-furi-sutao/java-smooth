---
title: 26. 不吉なにおい 🐽  変数名にコメントを付ける
section: 02.入門編
slug: /entry/26-comment-to-variable
order: 26
---

# 26. 不吉なにおい 🐽  変数名にコメントを付ける

<p class="goal">
  変数名にコメントを付けるというのは、「不吉なにおい」であり、変数名が代入されている値、内容を的確に表せてない兆候であることを知る
</p>

## 学習

### 変数にコメントを付けていたら「何かおかしいな？」

変数にコメントを付けている場合は、自己レビューで「これって大丈夫？」と確認する意識を持つことが重要です。

以下の例は極端ですが、変数名が役割を表せていないがために、コメントの記載が必要になるケースがあります。

### 悪い例: 変数名が役割を表していないのでコメントが必要になる

```java
// 1か月あたりのサーバ賃料（円）
int p = 5000;

// Web サーバの名前
String str1 = "Nginx";
// Web サーバのスタンバイ状態
boolean flag = true;

// DB サーバの名前
String str1 = "MySql";

// Web サーバがスタンバイ OK なら、起動できていることを表示する
if (flag) {
  System.out.printf("%s が起動しました", str1);
}
```

つまり、上記のコードを見た瞬間、ぱっと違和感を持つ感覚が必要です。「あれ、変数名がわかりにくいかな？」というような。

### 良い例: 変数名が分かりやすいためコメントが不要

```java
final int SERVER_PRICE_YEN_PER_MONTH = 5000;
final String  WEB_SERVER_NAME = "Nginx";
final String DB_SERVER_NAME = "MySql";

boolean isWebServerIdled = true;

if (isWebServerIdled) {
  System.out.printf("%s が起動しました", WEB_SERVER_NAME);
}
```

コメントで説明していたことを変数名に込めれば、処理が見やすくなり、無駄な情報も少なくなり読みやすくなります。

## ミニ課題（時間: 20 分）

以下のクラス VariableNamesCorrecter には、変数名が分かりにくいためにコメントが付いている箇所がある。処理がみやすく、読みやすくなるように修正（リファクタリング）しなさい

```java title=src/VariableNamesCorrecter.java
public class VariableNamesCorrecter {
    public static void main(String[] args) {

        // ボールペンのコード番号
        String cd1 = "BPBK-007";
        // ボールペンの値段
        int price1 = 110;
        // ボールペンの本数
        int num1 = 1;
        // ボールペンの合計金額
        int sum1 = 0;

        // ノートのコード番号
        String cd2 = "NTBK-102 20P";
        // ノートの値段
        int price2 = 80;
        // ノートの本数
        int num2 = 5;
        // ノートの合計金額
        int sum2 = 0;

        // 消費税率 10%
        final double T = 1.10;

        // 文房具の合計金額
        int sum3 = 0;

        sum1 = (int) Math.round((price1 * num1) * T);
        sum2 = (int) Math.round((price2 * num2) * T);
        sum3 = sum1 + sum2;

        System.out.printf("%12s: 1 個 %3d 円 × %1d 個 = %3d 円（税込）%n"
            , product1, price1, num1, sum1);

        System.out.printf("%12s: 1 個 %3d 円 × %1d 個 = %3d 円（税込）%n"
            , product2, price2, num2, sum2);

        System.out.printf("すべての文房具の合計金額 = %d 円（税込）%n"
            , sum3);
    }
}
```

### VariableNamesCorrecter の実行結果

```
    BPBK-007: 1 個 110 円 × 1 個 = 121 円（税込）
NTBK-102 20P: 1 個  80 円 × 5 個 = 440 円（税込）
すべての文房具の合計金額 = 561 円（税込）
```

## 解答例

https://github.com/fs5013-furi-sutao/java-bootcamp-answers/blob/main/02.entry/26.comment-to-variable/src/VariableNamesCorrecter.java
